!function(t,n){"use strict";var e=function(t){this.instance=t,this.init()};n.extend(e.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){t.toggle()}),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(){var t=this;t.instance&&t.instance.current&&(t.instance.current.opts.loop||t.instance.currIndex<t.instance.group.length-1)?t.timer=setTimeout(function(){t.instance.next()},t.instance.current.opts.slideShow.speed||t.speed):(t.stop(),t.instance.idleSecondsCounter=0,t.instance.showControls())},clear:function(){var t=this;clearTimeout(t.timer),t.timer=null},start:function(){var t=this,n=t.instance.current;t.instance&&n&&(n.opts.loop||n.index<t.instance.group.length-1)&&(t.isActive=!0,t.$button.attr("title",n.opts.i18n[n.opts.lang].PLAY_STOP).addClass("fancybox-button--pause"),n.isComplete&&t.set())},stop:function(){var t=this,n=t.instance.current;t.clear(),t.$button.attr("title",n.opts.i18n[n.opts.lang].PLAY_START).removeClass("fancybox-button--pause"),t.isActive=!1},toggle:function(){var t=this;t.isActive?t.stop():t.start()}}),n(t).on({"onInit.fb":function(t,n){n&&!n.SlideShow&&(n.SlideShow=new e(n))},"beforeShow.fb":function(t,n,e,i){var o=n&&n.SlideShow;i?o&&e.opts.slideShow.autoStart&&o.start():o&&o.isActive&&o.clear()},"afterShow.fb":function(t,n,e){var i=n&&n.SlideShow;i&&i.isActive&&i.set()},"afterKeydown.fb":function(e,i,o,s,a){var c=i&&i.SlideShow;!c||!o.opts.slideShow||80!==a&&32!==a||n(t.activeElement).is("button,a,input")||(s.preventDefault(),c.toggle())},"beforeClose.fb onDeactivate.fb":function(t,n){var e=n&&n.SlideShow;e&&e.stop()}}),n(t).on("visibilitychange",function(){var e=n.fancybox.getInstance(),i=e&&e.SlideShow;i&&i.isActive&&(t.hidden?i.clear():i.set())})}(document,window.jQuery);